page link : [https://www.acmicpc.net/problem/10986](https://www.acmicpc.net/problem/10986)

---

# ğŸ’¡ í’€ì´ì „ëµ
- ì •ë‹µ : ì‹œê°„ë³µì¡ë„: O(N)
    1. ì…ë ¥ ë°›ê¸°
        1. N: ë°°ì—´ì˜ ê¸¸ì´, M: ë‚˜ëˆ„ëŠ” ìˆ˜, A: ë°°ì—´
    2. ë³€ìˆ˜ ì´ˆê¸°í™”
        - prefix_sum = [0] * N
        - remainder_count = [0] * M
        - count = 0
    3. prefix_sum êµ¬ì¶•
        
        prefix_sum[0] = A[0]
        for i â†’ 1 ~ n - 1:
        prefix_sum[i] = A[i] + prefix_sum[i - 1]
        
    4. remainder_count êµ¬ì¶•
        
        for i â†’ 0 ~ n - 1:
        remainder = prefix_sum[i] % M
        if(remainder == 0) count += 1
        
    5. remainder_count ìˆœíšŒ
        
        for i â†’ 0 ~ m-1:
        remainder_count[i]ì—ì„œ 2ê°€ì§€ë¥¼ ë½‘ëŠ” ê²½ìš°ì˜ ìˆ˜ countì— ë”í•˜ê¸°

- ì˜¤ë‹µ : ì‹œê°„ë³µì¡ë„: O(N^2)
    1. ì¸ì ë°›ê¸°
        1. N: ë°°ì—´ì˜ ê¸¸ì´ K: ë‚˜ëˆ„ëŠ” ìˆ˜ A: ë°°ì—´
    2. ë³€ìˆ˜ ì´ˆê¸°í™”
        1. start = 0
        2. current_sum = 0
        3. count = 0
    3. for in, while ìˆœí™˜
        1. current_sum += A[end]
        2. while end â‰¤ N
            1. current_sum - A[start]
        3. if current_sum % K == 0
            1. count += 1

## ğŸ¨ ì‚¬ìš©ëœ ì•Œê³ ë¦¬ì¦˜
ëˆ„ì í•©(prefix_sum)

---

# code

## Python

```python
import sys
input = sys.stdin.read()
data = list(map(int, input.split()))

#ì…ë ¥ê°’ ì½ê¸°
N = data[0]
M = data[1]
A = data[2:]

#ë³€ìˆ˜ ì´ˆê¸°í™”
prefix_sum = [0] * N
remainder_count = [0] * M
count = 0

#ëˆ„ì í•© ë°°ì—´ êµ¬í•˜ê¸°
prefix_sum[0] = A[0]
for i in range(1, N):
    prefix_sum[i] = A[i] + prefix_sum[i - 1]

#ë‚˜ë¨¸ì§€ ë°°ì—´ êµ¬í•˜ê¸°
for i in range(N):
    remainder = prefix_sum[i] % M
    if remainder == 0:
        count += 1
    remainder_count[remainder] += 1

for j in range(M):
    if remainder_count[j] > 1:
        count += (remainder_count[j] * (remainder_count[j] - 1)) // 2
    
print(count)
```

## í•´ê²°í•œ ì˜¤ë¥˜

### 1. ì‹œê°„ì´ˆê³¼(ì‹œê°„ë³µì¡ë„ O(N^2))

#### Step 1. ì»´í“¨í„°ëŠ” ì´ˆë‹¹ 10^8 ~ 10^9 ëª…ë ¹ì–´ ì²˜ë¦¬ ê°€ëŠ¥

- ì»´í“¨í„°ê°€ 1ì´ˆì•ˆì— ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ê²½ìš°ì˜ ìˆ˜
    - ì»´í“¨í„° ì„±ëŠ¥ì— ë”°ë¼ ë‹¤ë¥´ì§€ë§Œ ëŒ€ëµ **ì´ˆë‹¹ 10^8 ~ 10^9 ëª…ë ¹ì–´ ì²˜ë¦¬ê°€ëŠ¥**
- ìœ„ ë¬¸ì œì˜ ê²½ìš° **ë°°ì—´ì˜ ìµœëŒ€ í¬ê¸°ëŠ” 10^6**ì´ë©°, **ì‹œê°„ì œí•œì€ 1ì´ˆ**ì´ë‹¤.
    - ì¦‰, ì„ í˜• íƒìƒ‰ : O(N)ë§Œ 1ì´ˆì— ì²˜ë¦¬ ê°€ëŠ¥í•˜ë©°,
    ì´ì¤‘ë£¨í”„ íƒìƒ‰: O(N^2)ì‹œ 10^12ì´ ë˜ë¯€ë¡œ 1ì´ˆë¥¼ ë„˜ì–´ê°„ë‹¤.

```python
# ë°˜ë³µë¬¸ ìˆœí™˜ (ì‹œê°„ë³µì¡ë„ O(N^2))
while start <= N:
    for end in range(start + 1, N + 1):
        if (prefix_sum[end] - prefix_sum[start]) % K == 0:
            count += 1
    start += 1

print(count)
```

ë”°ë¼ì„œ, **ì‹œê°„ë³µì¡ë„ë¥¼ O(N)ìœ¼ë¡œ ì¤„ì¼ ì•„ì´ë””ì–´ í•„ìš”**

---

#### Step 2. ì‹œê°„ë³µì¡ë„ë¥¼ O(N)ìœ¼ë¡œ ì¤„ì¼ ì•„ì´ë””ì–´

> **ëˆ„ì í•©ì˜ ë‚˜ë¨¸ì§€ì˜ ê°’ì´ ê°™ì„ ë•Œ, ê·¸ êµ¬ê°„ì˜ í•©ì˜ ë‚˜ë¨¸ì§€ëŠ” 0ì´ë‹¤.**
> 
- ì´ê²Œ ë¬´ìŠ¨ë§ì¸ì§€ ë„ì‹ìœ¼ë¡œ ì•Œì•„ë³´ì.
    
    ```python
    # ë¬¸ì œì—ì„œ ì£¼ì–´ì§„ ì¸ì
    **ì£¼ì–´ì§„ ë°°ì—´ = [1, 2, 3, 1, 2]
    ë‚˜ëˆ„ë ¤ëŠ” ìˆ˜ = 3**
    
    # ìƒˆë¡œ ìƒì„±í•œ ë°°ì—´
    ëˆ„ì í•© = [1, 3, 6, 7, 9]
    ëˆ„ì í•©ì˜ ë‚˜ë¨¸ì§€ = [1, 0, 0, 1, 0]
    
    # ì˜ˆì‹œë¥¼ í†µí•œ í™•ì¸
    **ëˆ„ì í•©ì˜ ë‚˜ë¨¸ì§€ì˜ ê°’ì´ ê°™ì„ ë•Œ,**
    'ëˆ„ì í•©ì˜ ë‚˜ë¨¸ì§€[0]'ê³¼ 'ëˆ„ì í•©ì˜ ë‚˜ë¨¸ì§€[4]'ëŠ” ì„œë¡œ 1ë¡œ ê°™ì„ ë•Œ,
    
    **ê·¸ êµ¬ê°„ì˜ í•©ì˜ ë‚˜ë¨¸ì§€ëŠ” 0ì´ë‹¤.**
    **ê·¸ êµ¬ê°„ì˜ í•©** = (ì£¼ì–´ì§„ ë°°ì—´[1] + ì£¼ì–´ì§„ ë°°ì—´[2] + ì£¼ì–´ì§„ ë°°ì—´[3])
    **ë‚˜ë¨¸ì§€** = **ê·¸ êµ¬ê°„ì˜ í•©** % 3
         = (2 + 3 + 1) % 3 = 6 % 3
         = 0
    ```
    
- ìœ„ë¥¼ í†µí•´ **ëˆ„ì í•©ì˜ ë‚˜ë¨¸ì§€ë§Œ ìˆœíšŒ**í•˜ë”ë¼ë„, ë‚˜ë¨¸ì§€ê°€ 0ì¸ ê²½ìš°ì˜ ìˆ˜ë¥¼ êµ¬í•  ìˆ˜ ìˆë‹¤.
    - ì¦‰, ì‹œê°„ë³µì¡ë„ë¥¼ O(N)ìœ¼ë¡œ ì¤„ì¼ ìˆ˜ ìˆë‹¤.

---

#### Step 3. ìˆ˜í•™ ê°œë…ìœ¼ë¡œ ê²½ìš°ì˜ ìˆ˜ êµ¬í•˜ê¸°

> **ëˆ„ì í•©ì˜ ë‚˜ë¨¸ì§€ë¥¼ ìˆœíšŒí•˜ë©° 0ì´ ë˜ëŠ” ê²½ìš°ì˜ ìˆ˜ êµ¬í•˜ê¸°(ì½¤ë¹„ë„¤ì´ì…˜_ì¡°í•©)**
> 
1. ëˆ„ì í•© ìì²´ë¡œ 0ì´ ë˜ëŠ” ê²½ìš°ì˜ ìˆ˜ ì„¸ê¸°
2. ëˆ„ì í•©ì˜ ë‚˜ë¨¸ì§€ ì¤‘ ê°™ì€ ê°’ì´ 2ê°œ ì´ìƒì´ë©´, ë‘ ê°œì˜ ì¸ë±ìŠ¤ **êµ¬ê°„ì˜ í•© % ë‚˜ëˆ„ë ¤ëŠ” ìˆ˜ = 0**ì´ë¯€ë¡œ, 2ê°œ ì´ìƒì˜ ì¸ë±ìŠ¤ë¡œ ë§Œë“¤ ìˆ˜ ìˆëŠ” êµ¬ê°„ì˜ ê²½ìš°ì˜ ìˆ˜ ì„¸ê¸°
    1. ì½¤ë¹„ë„¤ì´ì…˜(ì¡°í•©) nCm â‡’ nê°œì˜ ìˆ«ì ì¤‘ mê°œê°€ ë˜ëŠ” ìˆ«ìì˜ ê²½ìš°ì˜ ìˆ˜ë¥¼ êµ¬í•˜ëŠ” ë°©ë²•
        
        $$
        nCr = \frac {n!}{(n-r)!r!}
        $$
        
    2. ì˜ˆì‹œë¥¼ ë³´ë©´ ì´í•´ê°€ ë¹ ë¥¼ ê±°ë‹¤.
        
        ex) `remainder = [1, 0, 0, 1, 0]`ì˜ ê²½ìš° 3C2 â‡’ â€˜0â€™ì´ë€ ìˆ«ì 3ê°œ ì¤‘ 2ê°œê°€ ë˜ëŠ” ê²½ìš°ì˜ ìˆ˜
        1ë²ˆì§¸: `remainder[1]~remainder[2]`
        2ë²ˆì§¸: `remainder[2]~remainder[4]`
        3ë²ˆì§¸: `remainder[1]~remainder[4]`
        
        $$
        _3C_2 = \frac {3*2}{2*1}=3
        $$
        
        > tip. `r!`ì„ ë¶„ëª¨ì—, `n!`ì„ `rì˜ ê°¯ìˆ˜`ë§Œí¼ ë¶„ìì— ë°°ì¹˜í•˜ë©´ ëœë‹¤.
        > 

---

#### Step 4. êµ¬í˜„í•˜ê¸°

1. ëˆ„ì í•© ë°°ì—´ êµ¬í•˜ê¸°
2. ë‚˜ë¨¸ì§€ ë°°ì—´ êµ¬í•˜ê¸°

```python
#ëˆ„ì í•© ë°°ì—´ êµ¬í•˜ê¸°
prefix_sum[0] = A[0]
for i in range(1, N):
    prefix_sum[i] = A[i] + prefix_sum[i - 1]

#ë‚˜ë¨¸ì§€ ë°°ì—´ êµ¬í•˜ê¸°
for i in range(N):
    remainder = prefix_sum[i] % M
    # ëˆ„ì í•© ìì²´ë¡œ 0ì´ ë˜ëŠ” ê²ƒì€ ë°”ë¡œ countë¥¼ ì„¼ë‹¤.
    if remainder == 0:
        count += 1
    # ì¸ë±ìŠ¤ë¥¼ % ê°’ìœ¼ë¡œ ì‚¬ìš©í•˜ê³ , ì¸ë±ìŠ¤ì— ë”°ë¥¸ ê°’ì„ ê°¯ìˆ˜ë¡œ ì„¼ë‹¤.
    remainder_count[remainder] += 1
    
for j in range(M):
    if remainder_count[j] > 1:
		    # nê°œì¤‘ 2ê°œì˜ ê²½ìš°ì˜ ìˆ˜ë¥¼ êµ¬í•˜ëŠ” ì½¤ë¹„ë„¤ì´ì…˜ êµ¬í˜„.
        count += (remainder_count[j] * (remainder_count[j] - 1)) // 2
    
print(count)
```

---

- ê¸°ì¡´ì½”ë“œ
    
    ```python
    import sys
    input = sys.stdin.read()
    data = list(map(int, input.split()))
    
    # ì¸ì ì •ì˜
    N = data[0]
    K = data[1]
    A = data[2:]
    
    # ë³€ìˆ˜ ì´ˆê¸°í™”
    start = 0
    current_sum = 0
    count = 0
    
    # ëˆ„ì í•© ë°°ì—´ ë§Œë“¤ê¸°
    prefix_sum = [0] * (N + 1)
    for i in range(1, N + 1):
        prefix_sum[i] = A[i - 1] + prefix_sum[i - 1]
    
    # ë°˜ë³µë¬¸ ìˆœí™˜
    while start <= N:
        for end in range(start + 1, N + 1):
            if (prefix_sum[end] - prefix_sum[start]) % K == 0:
                count += 1
        start += 1
    
    print(count)
    ```
    

---

[ì§ˆë¬¸ì €ì¥ì†Œ](https://www.notion.so/de769bb6aee0459e84c355dc6c08c675?pvs=21)
